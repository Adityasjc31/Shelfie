# ==========================================
# CONFIG SERVER APPLICATION CONFIGURATION
# ==========================================
spring.application.name=config-server
server.port=8888

# ==========================================
# EUREKA CLIENT CONFIGURATION
# ==========================================
eureka.client.service-url.defaultZone=${EUREKA_URL:http://localhost:8761/eureka/}
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.prefer-ip-address=true
eureka.instance.lease-renewal-interval-in-seconds=30

# Instance metadata
eureka.instance.metadata-map.version=1.0
eureka.instance.metadata-map.service-type=config-server

# ==========================================
# CONFIG SERVER - NATIVE FILE SYSTEM
# ==========================================
# Using native file system for configuration storage
spring.cloud.config.server.native.search-locations=classpath:/config-repo/

# Enable native profile for file-based configuration
spring.profiles.active=native

# ==========================================
# CONFIG SERVER - GIT (Alternative - Commented)
# ==========================================
# Uncomment below for Git-based configuration
# spring.cloud.config.server.git.uri=https://github.com/your-org/config-repo
# spring.cloud.config.server.git.clone-on-start=true
# spring.cloud.config.server.git.default-label=main
# spring.cloud.config.server.git.timeout=5
# spring.cloud.config.server.git.force-pull=true

# Git authentication (if private repo)
# spring.cloud.config.server.git.username=${GIT_USERNAME}
# spring.cloud.config.server.git.password=${GIT_PASSWORD}

# ==========================================
# CONFIG SERVER SETTINGS
# ==========================================
# Disable bootstrap mode for native profile
spring.cloud.config.server.bootstrap=false

# Enable encryption/decryption of sensitive properties
spring.cloud.config.server.encrypt.enabled=false

# Health endpoint
spring.cloud.config.server.health.enabled=true

# Allow override of local properties
spring.cloud.config.server.overrides.allow-override=true

# ==========================================
# SECURITY (Commented - Enable in Production)
# ==========================================
# Uncomment for basic auth security
# spring.security.user.name=config-admin
# spring.security.user.password=change-in-production

# ==========================================
# ACTUATOR CONFIGURATION
# ==========================================
management.endpoints.web.exposure.include=health,info,refresh,env
management.endpoint.health.show-details=always

# Info endpoint
info.app.name=Config Server
info.app.description=Centralized Configuration Server for Digital Bookstore
info.app.version=1.0.0

# ==========================================
# LOGGING CONFIGURATION
# ==========================================
logging.level.root=INFO
logging.level.org.springframework.cloud.config=DEBUG
logging.level.com.book.management=DEBUG
logging.level.org.springframework.web=INFO

logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [${spring.application.name}] %-5level %logger{36} - %msg%n
logging.file.name=logs/config-server.log
logging.file.max-size=10MB
logging.file.max-history=30

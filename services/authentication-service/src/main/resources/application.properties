# ==========================================
# FILE: bootstrap.properties
# BOOTSTRAP CONFIGURATION
# ==========================================
spring.application.name=authentication-service

# Config Server Configuration
spring.cloud.config.uri=http://localhost:8888
spring.cloud.config.fail-fast=true
spring.cloud.config.retry.max-attempts=6
spring.cloud.config.retry.initial-interval=1000
spring.cloud.config.enabled=true

# Logging (Bootstrap)
logging.level.org.springframework.cloud.config=INFO

# ==========================================
# FILE: application.properties
# APPLICATION CONFIGURATION (Fallback)
# ==========================================
spring.application.name=authentication-service
server.port=8081

# ==========================================
# EUREKA CLIENT CONFIGURATION
# ==========================================
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.prefer-ip-address=true
eureka.instance.lease-renewal-interval-in-seconds=30

# Instance metadata
eureka.instance.metadata-map.version=1.0
eureka.instance.metadata-map.service-type=authentication

# ==========================================
# JWT CONFIGURATION
# ==========================================
jwt.secret=your_256_bit_secret_key_change_in_production_use_env_variable_for_security_purposes_minimum_256_bits_required
jwt.expiration=86400000
jwt.refresh-expiration=604800000
jwt.issuer=digital-bookstore
jwt.validate-issuer=true
jwt.validate-expiration=true

# ==========================================
# SESSION MANAGEMENT
# ==========================================
session.max-concurrent-sessions=3
session.timeout-minutes=30
session.cleanup-interval-minutes=15

# ==========================================
# PASSWORD ENCRYPTION
# ==========================================
password.encoder.strength=10

# ==========================================
# USER SERVICE INTEGRATION
# ==========================================
user.service.url=lb://user-service

# ==========================================
# WEBCLIENT CONFIGURATION
# ==========================================
spring.webflux.base-path=/
webclient.connection-timeout=3000
webclient.read-timeout=5000
webclient.write-timeout=5000

# ==========================================
# LOGGING CONFIGURATION
# ==========================================
logging.level.root=INFO
logging.level.com.book.management.authentication=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=DEBUG

logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [${spring.application.name}] %-5level %logger{36} - %msg%n
logging.file.name=logs/authentication-service.log
logging.file.max-size=10MB
logging.file.max-history=30

# ==========================================
# ACTUATOR CONFIGURATION
# ==========================================
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always

info.app.name=Authentication Service
info.app.description=JWT-based Authentication and Authorization Service
info.app.version=1.0.0

# ==========================================
# CORS CONFIGURATION
# ==========================================
cors.allowed-origins=*
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.max-age=3600
